databaseChangeLog:
  - changeSet:
      id: 20210302693501
      author: l.corsetti
      changes:
        - dropForeignKeyConstraint:
            baseTableName: entando_bundle_component_jobs
            constraintName: fk_de_comp_job
        - dropForeignKeyConstraint:
            baseTableName: installed_entando_bundles
            constraintName: fk_component
        - modifyDataType:
            tableName: entando_bundle_jobs
            columnName: id
            newDataType: varchar(36)
        - modifyDataType:
            tableName: entando_bundle_component_jobs
            columnName: id
            newDataType: varchar(36)
        - modifyDataType:
            tableName: entando_bundle_component_jobs
            columnName: parent_entando_bundle_job_id
            newDataType: varchar(36)
        - modifyDataType:
            tableName: installed_entando_bundles
            columnName: id
            newDataType: varchar(36)
        - modifyDataType:
            tableName: installed_entando_bundles
            columnName: job_id
            newDataType: varchar(36)
        - addForeignKeyConstraint:
            baseColumnNames: job_id
            baseTableName: installed_entando_bundles
            constraintName: fk_component
            referencedColumnNames: id
            referencedTableName: entando_bundle_jobs
            nullable: false
        - addForeignKeyConstraint:
            baseColumnNames: parent_entando_bundle_job_id
            baseTableName: entando_bundle_component_jobs
            constraintName: fk_de_comp_job
            referencedColumnNames: id
            referencedTableName: entando_bundle_jobs
            nullable: false
